---
title: "Key for R Proficiency Assignment Sept 21"
author: "Rob Wells"
date: "2024-09-19"
output: html_document
---

```{r}
library(tidyverse)
library(rio)
library(janitor)
```

```{r}

test <- rio::import("https://github.com/wellsdata/CompText_Jour/raw/main/data/blackindex_master.csv") 

```


Â --Your name, date and assignment 

--Load relevant software libraries

--Load the data: https://github.com/wellsdata/CompText_Jour/raw/main/data/blackindex_master.csvLinks to an external site.

--Using code, describe the number of rows and columns in the dataset




--Create a simple column ggplot chart that shows the total entries by year

Armed with your data analysis, write a 250 word memo at the end of the R markdown document that summarizes your findings. Use this opportunity to ask questions or note any major flaws in the data.

--Create a table that displays a count of the top 5 newspaper_city entries
```{r}
test %>% 
  count(newspaper_city) %>% 
 slice_max(order_by = n, n = 5)

```

--Create a table that counts all newspaper_city entries by year. UPDATE: Filter out the NA values
```{r}
test %>% 
  filter(!is.na(newspaper_city)) %>% 
  count(newspaper_city, year) %>% 
  arrange(desc(n)) 
  


```

```{r}

test %>% 
  filter(newspaper_city == c("Chicago", "Pittsburgh", "Atlanta")) %>% 
  count(newspaper_city, year) %>% 
  arrange(desc(n)) 

```
#Filter out a city
```{r}

test %>% 
  filter(newspaper_city != "Chicago") %>% 
  count(newspaper_city, year) %>% 
  arrange(desc(n)) 

```

--Create a table that counts all newspaper_city entries by year
```{r}

entries_year <- test %>% 
  filter(!is.na(newspaper_city)) %>% 
  select(year, newspaper_city) %>% 
  group_by(year, newspaper_city) %>% 
  count(year) 

```


```{r}
ggplot(entries_year, aes(x = year, y = n,
             fill = n)) +
  geom_col(position = "dodge") + 
  theme(legend.position = "none") +
  labs(title = "Years of Lynching Coverage",
       subtitle = "",
       caption = "",
       y="Articles",
       x="Year")



```

